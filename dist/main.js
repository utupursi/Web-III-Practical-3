!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);const n=new class{constructor(){this.authors=[],this.id=0,this.books=[],this.listGroup=document.querySelector("#authors"),this.authorSelect=document.querySelector("#addBookForm select[name=author]"),this.booksTbody=document.querySelector("#books > tbody")}addAuthor(t){-1===this.authors.indexOf(t)&&(this.authors.push(t),this.listGroup.innerHTML+=`<li id=${this.id} value='${t}' class="list-group-item">${t} <button  class='btn-danger' style='float:right' type='button' data-author-id=${this.id}>delete</button></li>`,this.id++,this.makeSelect())}removeAuthor(t){let e=t.getAttribute("data-author-id"),o=document.getElementById(`${e}`),n=o.getAttribute("value");this.authors.splice(this.authors.indexOf(n),1),o.remove(),this.makeSelect()}makeSelect(){this.authorSelect.innerHTML=this.authors.map(t=>`<option>${t}</option>`).join("")}addBook(t){this.books.push(t),this.booksTbody.innerHTML+=`\n    <tr id='${t.title}'>\n      <td>${t.author}</td>\n      <td>${t.title}</td>\n      <td>${t.price}</td>\n      <td>${t.numberOfPages}</td>\n      <td><button class='btn-danger' id='book'>Delete</button></td>\n    </tr>`}removeBook(t){let e,o=t.parentElement.parentElement,n=o.getAttribute("id");this.books.forEach(t=>{t.title==n&&(e=t)}),console.log(e),this.books.splice(this.books.indexOf(e),1),console.log(this.books),o.remove()}searchBook(t){const e=this.books.filter(e=>e.title.indexOf(t)>-1);console.log(e),0!==e.length?(this.booksTbody.innerHTML="",e.forEach(t=>{this.booksTbody.innerHTML+=`\n      <tr  id='${t.title}'>\n        <td>${t.author}</td>\n        <td>${t.title}</td>\n        <td>${t.price}</td>\n        <td>${t.numberOfPages}</td>\n        <td><button class='btn-danger' id='book'>Delete</button></td>\n      </tr>`})):this.booksTbody.innerHTML=""}},r=document.querySelector("#btn-add-author"),u=document.querySelector("#addBookForm"),i=document.querySelector("#new-author-input"),l=document.querySelector(".btn-search");let c;function s(){i.value&&(n.addAuthor(i.value),c=document.querySelectorAll(".btn-danger"),c.forEach(t=>{t.onclick=function(){!function(t){n.removeAuthor(t)}(t)}}),i.value="")}function d(t){n.removeBook(t)}i.onkeyup=function(t){13===t.keyCode&&s()},r.onclick=function(){s()},u.onsubmit=function(t){t.preventDefault();const e=u.querySelectorAll("[name]"),o={};e.forEach(t=>{o[t.name]=t.value,t.value=""}),console.log(o),n.addBook(o),c=document.querySelectorAll(".btn-danger"),c.forEach(t=>{t.onclick=function(){d(t)}})},l.onclick=function(){const t=document.querySelector("#search").value;n.searchBook(t),c=document.querySelectorAll(".btn-danger"),c.forEach(t=>{t.onclick=function(){d(t)}})}}]);